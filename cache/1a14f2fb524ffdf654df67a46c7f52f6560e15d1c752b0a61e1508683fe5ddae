!function(t,o){"use strict";"function"==typeof define&&define.amd?define(["jquery"],o):"object"==typeof exports?module.exports=o(require("jquery")):t.bootbox=o(t.jQuery)}(this,function e(c,s){"use strict";function i(t,o,e){t.stopPropagation(),t.preventDefault(),c.isFunction(e)&&!1===e.call(o,t)||o.modal("hide")}function u(t,e){var a=0;c.each(t,function(t,o){e(t,o,a++)})}function f(t){var a,n;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return(t=c.extend({},r,t)).buttons||(t.buttons={}),a=t.buttons,n=function(t){var o,e=0;for(o in t)e++;return e}(a),u(a,function(t,o,e){if(c.isFunction(o)&&(o=a[t]={callback:o}),"object"!==c.type(o))throw new Error("button with key "+t+" must be an object");o.label||(o.label=t),o.className||(o.className=n<=2&&e===n-1?"btn-primary":"btn-default")}),t}function p(t,o,e){return c.extend(!0,{},t,function(t,o){var e=t.length,a={};if(e<1||2<e)throw new Error("Invalid argument length");return 2===e||"string"==typeof t[0]?(a[o[0]]=t[0],a[o[1]]=t[1]):a=t[0],a}(o,e))}function o(t,o,e,a){return C(p({className:"bootbox-"+t,buttons:m.apply(null,o)},a,e),o)}function m(){for(var t={},o=0,e=arguments.length;o<e;o++){var a=arguments[o],n=a.toLowerCase(),a=a.toUpperCase();t[n]={label:(n=a,(l[r.locale]||l.en)[n])}}return t}function C(t,o){var e={};return u(o,function(t,o){e[o]=!0}),u(t.buttons,function(t){if(e[t]===s)throw new Error("button key "+t+" is not allowed (options are "+o.join("\n")+")")}),t}var b={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},r={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},d={alert:function(){var t=o("alert",["ok"],["message","callback"],arguments);if(t.callback&&!c.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!c.isFunction(t.callback)||t.callback.call(this)},d.dialog(t)},confirm:function(){var t=o("confirm",["cancel","confirm"],["message","callback"],arguments);if(t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!c.isFunction(t.callback))throw new Error("confirm requires a callback");return d.dialog(t)},prompt:function(){var o,n,t=c(b.form),r=C(p({className:"bootbox-prompt",buttons:m("cancel","confirm"),value:"",inputType:"text"},arguments,["title","callback"]),["cancel","confirm"]),e=r.show===s||r.show;if(r.message=t,r.buttons.cancel.callback=r.onEscape=function(){return r.callback.call(this,null)},r.buttons.confirm.callback=function(){switch(r.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":e=n.val();break;case"checkbox":var t=n.find("input:checked"),e=[];u(t,function(t,o){e.push(c(o).val())})}return r.callback.call(this,e)},r.show=!1,!r.title)throw new Error("prompt requires a title");if(!c.isFunction(r.callback))throw new Error("prompt requires a callback");if(!b.inputs[r.inputType])throw new Error("invalid prompt type");switch(n=c(b.inputs[r.inputType]),r.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":n.val(r.value);break;case"select":var a={},l=r.inputOptions||[];if(!c.isArray(l))throw new Error("Please pass an array of input options");if(!l.length)throw new Error("prompt with select requires options");u(l,function(t,o){var e=n;if(o.value===s||o.text===s)throw new Error("given options in wrong format");o.group&&(a[o.group]||(a[o.group]=c("<optgroup/>").attr("label",o.group)),e=a[o.group]),e.append("<option value='"+o.value+"'>"+o.text+"</option>")}),u(a,function(t,o){n.append(o)}),n.val(r.value);break;case"checkbox":var i=c.isArray(r.value)?r.value:[r.value];if(!(l=r.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!l[0].value||!l[0].text)throw new Error("given options in wrong format");n=c("<div/>"),u(l,function(t,e){var a=c(b.inputs[r.inputType]);a.find("input").attr("value",e.value),a.find("label").append(e.text),u(i,function(t,o){o===e.value&&a.find("input").prop("checked",!0)}),n.append(a)})}return r.placeholder&&n.attr("placeholder",r.placeholder),r.pattern&&n.attr("pattern",r.pattern),r.maxlength&&n.attr("maxlength",r.maxlength),t.append(n),t.on("submit",function(t){t.preventDefault(),t.stopPropagation(),o.find(".btn-primary").click()}),(o=d.dialog(r)).off("shown.bs.modal"),o.on("shown.bs.modal",function(){n.focus()}),!0===e&&o.modal("show"),o},dialog:function(t){t=f(t);var e=c(b.dialog),o=e.find(".modal-dialog"),a=e.find(".modal-body"),n=t.buttons,r="",l={onEscape:t.onEscape};if(c.fn.modal===s)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");return u(n,function(t,o){r+="<button data-bb-handler='"+t+"' type='button' class='btn "+o.className+"'>"+o.label+"</button>",l[t]=o.callback}),a.find(".bootbox-body").html(t.message),!0===t.animate&&e.addClass("fade"),t.className&&e.addClass(t.className),"large"===t.size?o.addClass("modal-lg"):"small"===t.size&&o.addClass("modal-sm"),t.title&&a.before(b.header),t.closeButton&&(n=c(b.closeButton),t.title?e.find(".modal-header").prepend(n):n.css("margin-top","-10px").prependTo(a)),t.title&&e.find(".modal-title").html(t.title),r.length&&(a.after(b.footer),e.find(".modal-footer").html(r)),e.on("hidden.bs.modal",function(t){t.target===this&&e.remove()}),e.on("shown.bs.modal",function(){e.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&e.on("click.dismiss.bs.modal",function(t){e.children(".modal-backdrop").length&&(t.currentTarget=e.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&e.trigger("escape.close.bb")}),e.on("escape.close.bb",function(t){l.onEscape&&i(t,e,l.onEscape)}),e.on("click",".modal-footer button",function(t){var o=c(this).data("bb-handler");i(t,e,l[o])}),e.on("click",".bootbox-close-button",function(t){i(t,e,l.onEscape)}),e.on("keyup",function(t){27===t.which&&e.trigger("escape.close.bb")}),c(t.container).append(e),e.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&e.modal("show"),e},setDefaults:function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],c.extend(r,t)},hideAll:function(){return c(".bootbox").modal("hide"),d}},l={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return d.addLocale=function(t,e){return c.each(["OK","CANCEL","CONFIRM"],function(t,o){if(!e[o])throw new Error("Please supply a translation for '"+o+"'")}),l[t]={OK:e.OK,CANCEL:e.CANCEL,CONFIRM:e.CONFIRM},d},d.removeLocale=function(t){return delete l[t],d},d.setLocale=function(t){return d.setDefaults("locale",t)},d.init=function(t){return e(t||c)},d});